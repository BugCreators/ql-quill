<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" href="./kityformula/assets/styles/base.css">
  <link rel="stylesheet" href="./kityformula/assets/styles/ui.css">
  <link rel="stylesheet" href="./kityformula/assets/styles/scrollbar.css">
  <style type="text/css">
    html,
    body {
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden;
    }

    .kf-editor-edit-area {
      height: 300px !important;
    }
  </style>
</head>

<body>
  <div id="kfEditorContainer" class="kf-editor">
    <div id="tips" class="tips">
      <div id="loading" style="text-align:center;padding-top: 100px;">
        <img src="./kityformula/loading.gif" alt="loading" />
        <p>正在加载，请耐心等待...</p>
      </div>
    </div>
  </div>
  <script type="text/javascript" src="./kityformula/js/jquery-1.11.0.min.js"></script>
  <script src="./kityformula/js/kitygraph.all.js"></script>
  <script src="./kityformula/js/kity-formula-render.all.js"></script>
  <script src="./kityformula/js/kity-formula-parser.all.min.js"></script>
  <script src="./kityformula/js/kityformula-editor.all.min.js"></script>
  <script type="text/javascript">
    window.top.kfe = null;
    const tips = document.querySelector("#tips");
    if (document.body.addEventListener) {
      const container = document.querySelector("#kfEditorContainer");
      const factory = kf.EditorFactory.create(container, {
        render: {
          fontsize: 36
        },
        resource: {
          path: "./kityformula/resource/"
        }
      });
      factory.ready(function (KFEditor) {
        container.removeChild(tips);
        const imgLatex = window.frameElement.dataset.latex || "";
        this.execCommand("render", imgLatex || "\\placeholder");
        this.execCommand("focus");
        window.top.kfe = this;
      })
    } else {
      tips.innerHTML = "sorry! Beta版本仅支持IE9及以上版本的浏览器，正式版本将会支持低版本浏览器，谢谢您的关注！"
    }
  </script>
  <script src="./kityformula/js/kityformula-editor.config.js"></script>
</body>

</html>