/*!
 * color-picker v1.0.0
 * (c) 2019 Smohan<https://smohan.net>.
 * Released under the MIT License.
 * https://smohan.net/blog/d5uvpu
 */
!function(t,a){"object"==typeof exports&&"object"==typeof module?module.exports=a():"function"==typeof define&&define.amd?define([],a):"object"==typeof exports?exports.MoColorPicker=a():t.MoColorPicker=a()}(window,function(){return function(t){var a={};function e(n){if(a[n])return a[n].exports;var r=a[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=a,e.d=function(t,a,n){e.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,a){if(1&a&&(t=e(t)),8&a)return t;if(4&a&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var r in t)e.d(n,r,function(a){return t[a]}.bind(null,r));return n},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},e.p="/",e(e.s=1)}([function(t,a,e){},function(t,a,e){"use strict";e.r(a);var n='\n<div class="mo-color-sat-val">\n  <div class="mo-color-thumb" role="slider" tabindex="0">\n    <span></span>\n  </div>\n</div>\n<div class="mo-color-hue">\n  <div class="mo-color-rail"></div>\n  <div class="mo-color-thumb" role="slider" tabindex="0">\n    <span></span>\n  </div>\n</div>\n<div class="mo-color-alpha">\n  <div class="mo-color-rail"></div>\n  <div class="mo-color-thumb" role="slider" tabindex="0">\n    <span></span>\n  </div>\n</div>\n',r=/^#([a-f\d]{3}|[a-f\d]{6})$/i,s=/^rgba?\s?\(/i,i=/^hsla?\s?\(/i,o=/^hsva?\s?\(/i,l=function(t){return void 0!==t&&!isNaN(+t)&&0<=+t&&+t<=1?+t:1};function h(t,a){return t=Math.min(a,Math.max(0,t)),Math.abs(t-a)<1e-6?1:t%a/~~a}var u=function(t,a,e){t=h(t,360),a=h(100*a,100);var n=~~(6*t),r=6*t-n,s=(e=h(100*e,100))*(1-a),i=e*(1-r*a),o=e*(1-(1-r)*a),l=0,u=0,c=0;switch(n%6){case 0:l=e,u=o,c=s;break;case 1:l=i,u=e,c=s;break;case 2:l=s,u=e,c=o;break;case 3:l=s,u=i,c=e;break;case 4:l=o,u=s,c=e;break;case 5:l=e,u=s,c=i}var d=function(t){return Math.round(255*t)};return{r:d(l),g:d(u),b:d(c)}},c=function(t,a,e,n){t=h(t,255),a=h(a,255),e=h(e,255);var r,s,i=Math.max(t,a,e),o=Math.min(t,a,e),u=i,c=i-o;if(s=0===i?0:c/i,i===o)r=0;else{switch(i){case t:r=(a-e)/c+(a<e?6:0);break;case a:r=(e-t)/c+2;break;case e:r=(t-a)/c+4}r/=6}return{h:360*r,s:s,v:u,a:l(n)}},d=function(t,a,e){return{h:t,s:a*e/((t=(2-a)*e)<1?t:2-t)||0,l:t/2}},p=function(t){if(3===(t=t.replace(/^#/,"")).length){for(var a=[],e=0;e<3;e++)a.push(t[e],t[e]);t=a.join("")}return{r:parseInt([t[0],t[1]].join(""),16),g:parseInt([t[2],t[3]].join(""),16),b:parseInt([t[4],t[5]].join(""),16)}},f=function(t,a,e){var n="#";return[t,a,e].forEach(function(t){var a=t.toString(16);a.length<2&&(a="0"+a),n+=a}),n},v=function(t){if(t){if(r.test(t)){var a=p(t),e=a.r,n=a.g,h=a.b;return c(e,n,h)}if(s.test(t)){e=(v=t.replace(s,"").replace(/\)/,"").trim().split(",").filter(function(t){return""!==t.trim()}).map(function(t,a){return 3===a?l(t):parseInt(t,10)}))[0],n=v[1],h=v[2];var u=v[3],d=c(e,n,h);return d.a=l(u),d}var f;if(o.test(t)||(f=i.test(t))){var v,g=f?i:o,m=(v=t.replace(g,"").replace(/\)/,"").trim().split(",").filter(function(t){return""!==t.trim()}).map(function(t,a){return 3===a?l(t):parseFloat(t)}))[0],b=v[1],_=v[2];u=v[3];return f?function(t,a,e,n){return{h:t,s:2*(a*=(e*=2)<=1?e:2-e)/(e+a),v:(e+a)/2,a:l(n)}}(m,b,_,u):{h:m,s:b,v:_,a:u}}}},g=function(t,a){return void 0===a&&(a=document),a.querySelector(t)},m=function(t,a,e){return t.addEventListener(a,e,!1)},b=function(t,a,e){return t.removeEventListener(a,e,!1)},_=function(t){return"function"==typeof t},$={start:function(t){},drag:function(t,a){},end:function(t,a){}};function y(t){b(document,"touchmove",this._handlers.drag),b(document,"touchend",this._handlers.dragEnd),b(document,"mousemove",this._handlers.drag),b(document,"mouseup",this._handlers.dragEnd),k.dragging=!1,"boolean"!=typeof t&&_(this._props.end)&&this._props.end.call(this,x(this._$el,t),t)}function M(){var t=this._handlers,a=this._$el;t.dragStart=function(t){k.dragging||(t.preventDefault(),m(document,"touchmove",this._handlers.drag),m(document,"touchend",this._handlers.dragEnd),m(document,"mousemove",this._handlers.drag),m(document,"mouseup",this._handlers.dragEnd),k.dragging=!0,_(this._props.start)&&this._props.start.call(this,t))}.bind(this),t.drag=function(t){_(this._props.drag)&&this._props.drag.call(this,x(this._$el,t),t)}.bind(this),t.dragEnd=y.bind(this),t.click=function(t){_(this._props.end)&&this._props.end.call(this,x(this._$el,t),t)}.bind(this),m(a,"touchstart",t.dragStart),m(a,"mousedown",t.dragStart),m(a,"click",t.click)}function x(t,a){var e,n=t.getBoundingClientRect(),r=(e="ontouchend"in document?a.changedTouches[0]:a).clientX-n.left,s=e.clientY-n.top;return{top:Math.min(Math.max(0,s),n.height),left:Math.min(Math.max(0,r),n.width)}}var k=function(){function t(t,a){this._$el=t,this._handlers=Object.create(null),this._props=Object.assign({},$,a),M.call(this)}return t.prototype.destroy=function(){(function(){var t=this._handlers,a=this._$el;b(a,"touchstart",t.dragStart),b(a,"mousedown",t.dragStart),b(a,"click",t.click),y.call(this,!1)}).call(this),this._$el=null,this._handlers=null},t.dragging=!1,t}(),j=k;e.d(a,"ColorPicker",function(){return H}),e(0);var w="mo-color-picker",W={value:null,format:"rgb",alpha:!1,change:function(t,a){}},I={sat:".mo-color-sat-val",hue:".mo-color-hue",alp:".mo-color-alpha",rail:".mo-color-rail",thumb:".mo-color-thumb"};function O(){var t=this._props,a=this._states,e=document.createElement("div");e.className=w,e.innerHTML=n,a.$el=e,a.$sat=g(I.sat,e),a.$hue=g(I.hue,e),a.$alp=g(I.alp,e),a.$satThumb=g(I.thumb,a.$sat),a.$hueThumb=g(I.thumb,a.$hue),a.$alpThumb=g(I.thumb,a.$alp),a.$alpRail=g(I.rail,a.$alp),a.$wrap.appendChild(e),t.alpha||(a.$alp.style.display="none"),function(){var t=this._states,a=this;function e(e){var n=e.top,r=e.left,s=t.satWidth,i=t.satHeight,o=Math.round(r/s*100)/100,l=Math.round(100*(1-n/i))/100;t.s=o,t.v=l,S.call(a),C.call(a)}function n(e){var n=e.left,r=t.hueWidth;t.h=Math.round(n/r*360*100)/100,T.call(a),C.call(a)}function r(e){var n=e.left,r=t.alpWidth;t.a=Math.round(n/r*100)/100,D.call(a,!0,!1),C.call(a)}t.satDragIns=new j(t.$sat,{drag:e,end:e}),t.hueDragIns=new j(t.$hue,{drag:n,end:n}),t.alpDragIns=new j(t.$alp,{drag:r,end:r})}.call(this)}function S(){var t=this._states,a=t.s,e=t.v;t.satWidth=t.satWidth||t.$sat.offsetWidth,t.satHeight=t.satHeight||t.$sat.offsetHeight;var n=Math.round((1-e)*t.satHeight),r=Math.round(a*t.satWidth),s=a<=.2&&e>=.8?"rgba(0,0,0,.7)":"white";t.$satThumb.style.cssText+="top: "+n+"px; left: "+r+"px; color: "+s+";",D.call(this,!1,!0)}function T(){var t=this._states,a=t.h;t.hueWidth=t.hueWidth||t.$hue.offsetWidth;var e=Math.round(a/360*t.hueWidth);t.$hueThumb.style.left=e+"px",t.$sat.style.background="hsl("+a+", 100%, 50%)",D.call(this,!1,!0)}function D(t,a){void 0===t&&(t=!0),void 0===a&&(a=!0);var e=this._props,n=this._states;if(e.alpha){var r=n.h,s=n.s,i=n.v,o=n.a;if(t&&(n.alpWidth=n.alpWidth||n.$alp.offsetWidth,n.$alpThumb.style.left=o*n.alpWidth+"px"),a){var l=d(r,s,i);n.$alpRail.style.background="linear-gradient(to right, transparent, hsl("+l.h+", "+100*l.s+"%, "+100*l.l+"%))"}}}function E(){S.call(this),T.call(this),D.call(this,!0,!0)}function P(t,a){var e,n,r=this._states;if(t){var s=v(t),i=s.h,o=s.s,l=s.v,h=s.a,c=u(i,o,l),d=c.r,p=c.g,f=c.b;if(void 0!==i&&(e="rgb("+d+","+p+","+f+")",(n=(new Option).style).color=e,(n.color||"").replace(/\s/g,"")===e))return r.h=i,r.s=o,r.v=l,r.a=h,void E.call(this)}a&&(r.h=360,r.s=1,r.v=1,r.a=1,E.call(this))}function C(){var t=this._props,a=this._states,e=a.h,n=a.s,r=a.v,s=a.a;_(t.change)&&t.change.call(this,this.getValue(),{h:e,s:n,v:r,a:s})}var H=function(){function t(t,a){this._states=Object.create(null),this._props=Object.assign({},W,a),this._states.$wrap=t,O.call(this),P.call(this,this._props.value,!0)}return t.prototype.setValue=function(t){null===t?P.call(this,null,!0):t&&P.call(this,t)},t.prototype.getValue=function(t){var a,e=this._props,n=this._states,r=n.h,s=n.s,i=n.v,o=n.a;switch(t=t||e.format){case"hsl":var l=d(r,s,i),h=l.h,c=l.s,p=l.l;a=e.alpha?"hsla("+Math.round(h)+", "+Math.round(100*c)+"%, "+Math.round(100*p)+"%, "+o+")":"hsl("+Math.round(h)+", "+Math.round(100*c)+"%, "+Math.round(100*p)+"%)";break;case"hsv":a=e.alpha?"hsva("+Math.round(r)+", "+Math.round(100*s)+"%, "+Math.round(100*i)+"%, "+o+")":"hsv("+Math.round(r)+", "+Math.round(100*s)+"%, "+Math.round(100*i)+"%)";break;case"hex":case"rgb":default:var v=u(r,s,i),g=v.r,m=v.g,b=v.b;a="hex"===t?f(g,m,b):e.alpha?"rgba("+g+", "+m+", "+b+", "+o+")":"rgb("+g+", "+m+", "+b+")"}return a},t.prototype.destroy=function(){(function(){var t=this._states;t.satDragIns&&t.satDragIns.destroy(),t.hueDragIns&&t.hueDragIns.destroy(),t.alpDragIns&&t.alpDragIns.destroy()}).call(this),this._states.$el.parentNode.removeChild(this._states.$el),this._props=null,this._states=null},t.hex2rgb=p,t.rgb2hex=f,t}();a.default=H}]).default});
//# sourceMappingURL=mo.color-picker.js.map